# 테스트케이스 도출 과정

> 테스트케이스 도출시 문맥을 충분히 주어지지 않고 프롬프팅 하여 일관성과 정확성이 떨어지는 경우가 발생해 프롬프트가 적절한지 피드백을 반복적으로 피드백 받은 후, 테스트 케이스를 도출했습니다.

**You:**

로그인 기능의 테스트 케이스를 작성해줘
정상, 비정상, 예외 상황별로 5개씩 제안해줘
각 케이스는 입력값, 실행 조건, 기대 결과를 표로 작성해

---

**ChatGPT:**

좋지! 바로 쓸 수 있게 정상/비정상/예외 각 5개씩 표로 정리했어. (서비스에 맞게 ID/PW 규칙, 메시지 문구만 바꿔서 쓰면 돼)

# ✅ 정상 시나리오 (5)

| 케이스명             | 입력값                                       | 실행 조건                                          | 기대 결과                                          |
| -------------------- | -------------------------------------------- | -------------------------------------------------- | -------------------------------------------------- |
| 정상 로그인          | ID: valid_user                               |
| PW: ValidPass123!    | 로그인 페이지 접속, 필수 필드 채움           | 대시보드로 리다이렉트, 사용자명 표시, 상태코드 200 |
| 로그인 후 리다이렉트 | 보호된 페이지(URL=/dashboard) 접근 후 로그인 | 세션 없음, 로그인 폼 노출                          | 로그인 성공 시 원래 요청 페이지(/dashboard)로 복귀 |
| Remember me 유지     | ID/PW 정상, “로그인 상태 유지” 체크          | 동일 브라우저 재방문(세션 만료 전)                 | 재로그인 없이 대시보드 접근 가능(유효 쿠키/토큰)   |
| 다국어 메시지(정상)  | 언어=KO/EN 전환 후 정상 로그인               | 언어 토글 가능                                     | 성공 토스트/텍스트가 선택 언어로 표시              |
| MFA 포함 정상        | ID/PW 정상 → OTP: 6자리 유효값               | 계정에 MFA 활성화                                  | MFA 입력 후 로그인 완료, MFA 실패 시 재입력 유도   |

# ❌ 비정상(에러) 시나리오 (5)

| 케이스명              | 입력값                   | 실행 조건                                                        | 기대 결과                                             |
| --------------------- | ------------------------ | ---------------------------------------------------------------- | ----------------------------------------------------- |
| 비밀번호 오입력       | ID: valid_user           |
| PW: wrongPass         | 계정 존재                | “아이디 또는 비밀번호가 올바르지 않습니다” 메시지, URL 변동 없음 |
| 존재하지 않는 계정    | ID: unknown_user         |
| PW: any               | 계정 없음                | 동일 오류 메시지(정보 노출 방지), 잠금/지연정책 적용 가능        |
| 필드 공란 제출        | ID: "" 或 PW: ""         | 로그인 버튼 클릭                                                 | 각 필드별 필수 입력 검증, 포커스 이동, 서버요청 안 함 |
| 형식 위반(이메일형)   | ID: invalid-email-format | 이메일 ID 규칙 사용 서비스                                       | 클라이언트/서버 측 형식 오류 메시지, 제출 차단        |
| 연속 실패에 따른 보호 | PW 연속 5회 오입력       | 잠금 정책 존재                                                   | 계정 잠금/일시 차단, CAPTCHA 노출 또는 쿨다운 적용    |

# ⚠️ 예외/비정상 상태 시나리오 (5)

| 케이스명                 | 입력값                                      | 실행 조건                                                             | 기대 결과                                                   |
| ------------------------ | ------------------------------------------- | --------------------------------------------------------------------- | ----------------------------------------------------------- |
| SQL/스크립트 인젝션 시도 | ID: `' OR '1'='1` 등                        |
| PW: any / `<script>`     | 폼 제출                                     | 서버 측 필터링/차단, 공통 오류 메시지(내부정보 노출 금지), XSS 미발생 |
| 네트워크 중단            | ID/PW 정상                                  | 제출 시 네트워크 끊김/타임아웃                                        | 재시도 안내, 사용자 친화적 에러 메시지, 중복 제출 방지      |
| 세션 타임아웃            | ID/PW 정상 로그인 후 일정 시간 경과         | 보호 페이지 접근                                                      | 재로그인 페이지로 리다이렉트, 작업 손실 최소화 안내         |
| 쿠키 비활성화            | 브라우저 쿠키 off                           | 로그인 시도                                                           | 세션 저장 실패 안내, 쿠키 활성화 요청 메시지                |
| 동시 로그인 충돌         | 기기A 로그인 후, 기기B에서 동일 계정 로그인 | 동시세션 제한 정책 존재                                               | 정책에 따라 A 세션 무효/경고, 또는 다중 세션 허용 처리 검증 |

원하면 이 표를 그대로 **Playwright 테스트 케이스 명세**로 바꾸고, 각 케이스별 `expect` 포인트(예: URL, 토스트/텍스트, 쿠키/스토리지 상태)까지 붙인 코드 템플릿도 만들어줄게.

---

**You:**

프롬프팅 피드백좀 해줘

로그인 기능의 테스트 케이스를 작성해줘
정상, 비정상, 예외 상황별로 5개씩 제안해줘
각 케이스는 입력값, 실행 조건, 기대 결과를 표로 작성해

---

**ChatGPT:**

네가 쓴 프롬프트는 기본적인 의도 전달은 잘 되지만,  
AI가 애매하게 해석하거나 너무 뻔한 결과를 내놓을 여지가 좀 있어.  
내가 피드백을 주자면 이렇게 3가지 포인트로 보완 가능해.

---

1. **테스트 맥락 명확화**

---

지금은 "로그인 기능"이라고만 돼 있어서,  
어떤 환경·UI·인증 로직을 전제해야 하는지가 불분명해.  
예를 들어:

- 로그인은 웹/앱 중 어떤 환경인지
- ID/PW 기반인지, 이메일+OTP인지
- 실패 메시지나 리다이렉트 동작이 있는지

이런 걸 한두 줄로 미리 설정해 주면, AI가 더 구체적인 케이스를 줄 수 있어.

---

2. **출력 포맷 구체화**

---

"표로 작성해줘"라고 하면 AI가

- 표 헤더를 제각각 쓰거나
- 기대 결과를 너무 짧게 쓰는 경우가 있음.

아예 표 헤더 이름과 예시 한 줄을 제공하면  
네가 원하는 수준으로 맞춰서 나옴.

예시:

```
| 구분 | 테스트 케이스 설명 | 입력값 | 실행 조건 | 기대 결과 |
|------|-------------------|--------|-----------|-----------|
| 정상 | ...               | ...    | ...       | ...       |
```

---

3. **테스트 범위·깊이 지정**

---

AI는 "정상/비정상/예외"를 헷갈릴 수 있음.  
예외를 단순한 오류 입력으로 오해할 수 있으니  
차이를 명시해줘야 해.

- 정상: 정상 플로우, 유효한 계정
- 비정상: 잘못된 자격 증명, 미등록 계정
- 예외: 네트워크 끊김, 서버 오류, 브라우저 호환성 문제 등

---

### 개선된 프롬프트 예시

```
다음 조건을 기반으로 로그인 기능 테스트 케이스를 작성해줘.
- 환경: 웹 브라우저(Chrome), ID/비밀번호 기반 로그인
- 로그인 성공 시 대시보드 페이지로 이동
- 실패 시 빨간색 에러 메시지 표시
- 서버 응답은 JSON 형식

조건:
1. 정상, 비정상, 예외 상황별로 각각 5개 케이스
2. 표 형식: | 구분 | 설명 | 입력값 | 실행 조건 | 기대 결과 |
3. 기대 결과는 'UI 동작'과 '시스템 응답'을 모두 포함해 1줄 이상 작성
4. 예외 상황은 네트워크, 서버, 브라우저 환경 문제 등 비입력값 기반 케이스 포함
```

---

**You:**

다음 조건을 기반으로 로그인 기능 테스트 케이스를 작성해줘.

환경:

- 모바일 웹, Chrome/Edge 브라우저
- 로그인 폼: 아이디, 비밀번호 입력
- 로그인 성공 시: 마이페이지로 이동
- 로그인 실패 시: 브라우저 alert 창 표시

조건:

1. 성공, 실패, 예외 상황별로 각각 5개 (총 15개)
2. 표 형식: | 구분 | 설명 | 입력값 | 실행 조건 | 기대 결과 |
3. 기대 결과는 'UI 동작'(구체적 요소명)을 포함하여 최소 1줄 이상 작성
4. 예외 상황은 네트워크, 서버, 브라우저 환경 문제 등 비입력값 기반 케이스 포함
5. 각 케이스는 서로 다른 조건/시나리오로 작성
6. 실행 조건은 구체적으로 작성 (예: 버튼 클릭 시점, 서버 응답 지연 상태 등)

예시 표:
| 성공 | 올바른 아이디/비밀번호 입력 후 로그인 | id: user01, pw: Pass123 | 로그인 버튼 클릭 시 | UI: 마이페이지로 이동 |

---

**ChatGPT:**

좋아! 요청한 형식과 조건에 맞춰 **모바일 웹(Chrome/Edge)** 기준으로 총 15개 케이스를 정리했어.  
(UI 요소 예시는 `#idInput`, `#pwInput`, `#loginBtn`, 마이페이지 URL은 `/mypage`로 표기했어. 서비스에 맞게만 바꿔써!)

| 구분 | 설명                                           | 입력값                              | 실행 조건                                                                               | 기대 결과                                                                                                                                                |
| ---- | ---------------------------------------------- | ----------------------------------- | --------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 성공 | 올바른 아이디/비밀번호로 기본 로그인           | id: `user01`, pw: `Pass123!`        | 로그인 페이지 진입 후 `#idInput`, `#pwInput` 입력 → `#loginBtn` 탭                      | **UI:** `#loginBtn` 로딩 상태(스피너) → 성공 후 URL이 `/mypage`로 변경, 상단 헤더에 사용자명 라벨(`#userName`) 표시                                      |
| 성공 | 보호 페이지 접근 도중 로그인(리다이렉트 복귀)  | id: `user01`, pw: `Pass123!`        | 미인증 상태로 `/mypage` 직접 접근 → 로그인 페이지로 리다이렉트 → 입력 후 `#loginBtn` 탭 | **UI:** 로그인 성공 즉시 원래 요청한 `/mypage`로 복귀, `#breadcrumb` 표시, 뒤로가기도 정상 동작                                                          |
| 성공 | 엔터(완료) 키로 제출(모바일 키보드)            | id: `user01`, pw: `Pass123!`        | `#pwInput` 포커스 상태에서 모바일 키보드의 “완료/Enter” 입력                            | **UI:** 폼 submit 발생, 버튼 비활성화 후 성공 → `/mypage` 로드, `#mypageTitle` 가시                                                                      |
| 성공 | 자동완성(저장된 자격증명) 후 로그인            | id: 브라우저 자동완성, pw: 자동완성 | 크롬/엣지 저장 자격증명 사용 → 자동 채움 후 `#loginBtn` 탭                              | **UI:** 자동완성된 값으로 제출되어 `/mypage` 이동, 자동완성 하이라이트 해제, 헤더 `#logoutLink` 노출                                                     |
| 성공 | 모바일 뷰포트 전환 후 로그인(회전/축소 대응)   | id: `user01`, pw: `Pass123!`        | 세로(390×844)에서 가로로 회전 → `#loginBtn` 탭                                          | **UI:** 레이아웃 깨짐 없이 제출, 성공 시 `/mypage` 전환, 하단 탭바(`#bottomTab`) 정상 정렬                                                               |
| 실패 | 비밀번호 불일치                                | id: `user01`, pw: `Wrong999`        | 입력 완료 후 `#loginBtn` 탭                                                             | **UI:** **브라우저 `alert("아이디 또는 비밀번호가 올바르지 않습니다.")` 표시**, 확인 누르면 로그인 페이지 유지, `#pwInput`만 초기화                      |
| 실패 | 존재하지 않는 아이디                           | id: `no_user`, pw: `Pass123!`       | `#loginBtn` 탭                                                                          | **UI:** **브라우저 `alert`로 통합 오류 메시지** 표시(계정 존재 여부 비노출), 확인 시 URL/포커스 유지(포커스 `#idInput`)                                  |
| 실패 | 아이디 공란                                    | id: `""`, pw: `Pass123!`            | `#loginBtn` 탭                                                                          | **UI:** **브라우저 `alert("아이디를 입력해주세요")`** 표시, 확인 시 `#idInput`에 포커스, 서버 요청 없음(네트워크 호출 미발생)                            |
| 실패 | 비밀번호 공란                                  | id: `user01`, pw: `""`              | `#loginBtn` 탭                                                                          | **UI:** **브라우저 `alert("비밀번호를 입력해주세요")`** 표시, 확인 시 `#pwInput` 포커스, 서버 요청 없음                                                  |
| 실패 | 형식 위반(이메일 정책 가정)                    | id: `abc@`, pw: `Pass123!`          | 이메일 형식 요구 환경에서 `#loginBtn` 탭                                                | **UI:** **브라우저 `alert("아이디 형식을 확인해주세요")`** 표시, 확인 시 `#idInput` 하단 보조텍스트(`#idHelp`) 노출, 제출 차단                           |
| 예외 | 네트워크 오프라인                              | id: `user01`, pw: `Pass123!`        | DevTools에서 오프라인 또는 기기 네트워크 끊김 상태로 `#loginBtn` 탭                     | **UI:** 제출 후 타임아웃 → **브라우저 `alert("네트워크 연결을 확인해주세요")`** 표시, 버튼 로딩 해제 및 재시도 가능                                      |
| 예외 | 서버 500 내부 오류                             | id: `user01`, pw: `Pass123!`        | 서버가 500 응답을 반환하도록 모의/실서버 장애 상태에서 제출                             | **UI:** **브라우저 `alert("일시적인 오류가 발생했습니다")`** 표시, 상세 원인 미노출, `#loginBtn` 재활성화                                                |
| 예외 | 서버 지연으로 클라이언트 타임아웃              | id: `user01`, pw: `Pass123!`        | 서버 응답 지연(예: 15s) 환경에서 제출                                                   | **UI:** 로딩 인디케이터 지속 → 클라이언트 타임아웃 후 **브라우저 `alert("응답 지연으로 실패했습니다")`**, 버튼 상태 원복                                 |
| 예외 | 쿠키/스토리지 차단(세션 저장 불가)             | id: `user01`, pw: `Pass123!`        | 브라우저에서 쿠키 차단(또는 서드파티 쿠키 차단 정책) 후 제출                            | **UI:** 인증 성공 응답 후 세션 저장 실패 감지 시 **브라우저 `alert("브라우저 설정으로 로그인 유지가 불가합니다")`**, 현재 페이지 유지 또는 재로그인 요구 |
| 예외 | 브라우저 팝업/알림 정책 충돌로 alert 처리 실패 | id: `user01`, pw: `Wrong999`        | 브라우저에서 자바스크립트 다이얼로그 제한(특정 정책/플래그) 상태에서 실패 발생          | **UI:** 기본 alert 대신 **대체 오류 배너(`#globalErrorBanner`)**가 상단에 슬라이드 인, ARIA 라이브영역으로 오류 읽힘, 포커스는 `#pwInput`으로 이동       |

필요하면 이 표를 바로 **Playwright용 테스트 명세 → 코드**로 변환해줄게.  
(예: 실패 케이스는 `page.on('dialog', ...)`로 alert 검증, 성공은 `await expect(page).toHaveURL(/\/mypage$/)`·요소 가시성 검사, 예외는 `route.abort()`/`route.fulfill({ status: 500 })`/`browserContext.grantPermissions` 등으로 모의 가능!)

---
